function config($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/index/main"),$stateProvider.state("index",{"abstract":!0,url:"/index",templateUrl:"views/common/content.html"}).state("index.main",{url:"/main",templateUrl:"views/main.html",data:{pageTitle:"Example view"}}).state("index.minor",{url:"/minor",templateUrl:"views/minor.html",data:{pageTitle:"Example view"}}).state("index.stef",{url:"/stef",templateUrl:"views/stef.html",data:{pageTitle:"Stef view"}}).state("index.crud",{url:"/crud",templateUrl:"views/crud.html",data:{pageTitle:"Crud view"}}).state("index.login",{url:"/login",templateUrl:"views/users/login.html",data:{pageTitle:"Login view"}}).state("index.register",{url:"/register",controller:"RegisterCtrl",templateUrl:"views/users/register.html",data:{pageTitle:"Register view"},controllerAs:"vm"})}function pageTitle($rootScope,$timeout){return{link:function(scope,element){var listener=function(event,toState,toParams,fromState,fromParams){var title="INSPINIA | Responsive Admin Theme";toState.data&&toState.data.pageTitle&&(title="INSPINIA | "+toState.data.pageTitle),$timeout(function(){element.text(title)})};$rootScope.$on("$stateChangeStart",listener)}}}function sideNavigation($timeout){return{restrict:"A",link:function(scope,element){$timeout(function(){element.metisMenu()})}}}function iboxTools($timeout){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:function($scope,$element){$scope.showhide=function(){var ibox=$element.closest("div.ibox"),icon=$element.find("i:first"),content=ibox.find("div.ibox-content");content.slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),ibox.toggleClass("").toggleClass("border-bottom"),$timeout(function(){ibox.resize(),ibox.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var ibox=$element.closest("div.ibox");ibox.remove()}}}}function minimalizaSidebar($timeout){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:function($scope,$element){$scope.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},200)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},100)):$("#side-menu").removeAttr("style")}}}}function iboxToolsFullScreen($timeout){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools_full_screen.html",controller:function($scope,$element){$scope.showhide=function(){var ibox=$element.closest("div.ibox"),icon=$element.find("i:first"),content=ibox.find("div.ibox-content");content.slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),ibox.toggleClass("").toggleClass("border-bottom"),$timeout(function(){ibox.resize(),ibox.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var ibox=$element.closest("div.ibox");ibox.remove()},$scope.fullscreen=function(){var ibox=$element.closest("div.ibox"),button=$element.find("i.fa-expand");$("body").toggleClass("fullscreen-ibox-mode"),button.toggleClass("fa-expand").toggleClass("fa-compress"),ibox.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}}}}function MainCtrl(){this.userName="Example user",this.helloText="Welcome in SeedProject",this.descriptionText="It is an application skeleton for a typical AngularJS web app. You can use it to quickly bootstrap your angular webapp projects and dev environment for these projects."}function StefCtrl($scope,restoService,ENV){this.stefTitle="Stef from ctrl"+ENV.name}function RegisterCtrl($scope,authService,UserService,$location,$rootScope,FlashService){function register(){vm.dataLoading=!0,UserService.Create(vm.user).then(function(response){response.success?(FlashService.Success("Registration successful",!0),$location.path("/login")):(FlashService.Error(response.message),vm.dataLoading=!1)})}$scope.send=function(){authService.sendRegistration($scope.signUser)},$scope.signUser=null;var vm=this;vm.register=register}function RestoListCtrl($scope,$rootScope,restoService){$scope.sortInfo={fields:["restoId"],directions:["asc"]},$scope.restos={currentPage:1},$scope.gridOptions={data:"restos.list",useExternalSorting:!0,sortInfo:$scope.sortInfo,columnDefs:[{field:"restoId",displayName:"Id"},{field:"name",displayName:"Name"},{field:"description",displayName:"Description"},{field:"",width:30,cellTemplate:'<span class="glyphicon glyphicon-remove remove" ng-click="deleteRow(row)"></span>'}],multiSelect:!1,selectedItems:[],afterSelectionChange:function(rowItem){rowItem.selected&&$rootScope.$broadcast("restoSelected",$scope.gridOptions.selectedItems[0].restoId)}},$scope.refreshGrid=function(){var listRestosArgs={page:$scope.restos.currentPage,sortFields:$scope.sortInfo.fields[0],sortDirections:$scope.sortInfo.directions[0]};restoService.get(listRestosArgs,function(data){$scope.restos=data})},$scope.deleteRow=function(row){alert("coucou"+row.entity.restoId),$rootScope.$broadcast("deleteResto",row.entity.restoId)},$scope.$watch("sortInfo.fields[0]",function(){$scope.refreshGrid()},!0),$scope.$on("ngGridEventSorted",function(event,sortInfo){$scope.sortInfo=sortInfo}),$scope.$on("refreshGrid",function(){$scope.refreshGrid()}),$scope.$on("clear",function(){$scope.gridOptions.selectAll(!1)})}function RestoFormCtrl($scope,$rootScope,restoService){$scope.clearForm=function(){$scope.resto=null,$scope.restoForm.$setPristine(),$rootScope.$broadcast("clear")},$scope.updateResto=function(){restoService.save($scope.resto).$promise.then(function(){$rootScope.$broadcast("refreshGrid"),$rootScope.$broadcast("restoSaved"),$scope.clearForm()},function(){$rootScope.$broadcast("error")})},$scope.$on("restoSelected",function(event,restoId){$scope.resto=restoService.get({id:restoId})}),$scope.$on("deleteResto",function(event,restoId){restoService["delete"]({id:restoId}).$promise.then(function(){$rootScope.$broadcast("refreshGrid"),$rootScope.$broadcast("restoDeleted"),$scope.clearForm()},function(){$rootScope.$broadcast("error")})})}function AlertMessagesCtrl($scope){$scope.$on("restoSaved",function(){$scope.alerts=[{type:"success",msg:"Record saved successfully!"}]}),this.testAlert="coucoucou",$scope.$on("restoDeleted",function(){$scope.alerts=[{type:"success",msg:"Record deleted successfully!"}]}),$scope.$on("error",function(){$scope.alerts=[{type:"danger",msg:"There was a problem in the server!"}]}),$scope.closeAlert=function(index){$scope.alerts.splice(index,1)}}function CrudCtrl($scope){this.crudTitle="Crud from ctrl"}$(document).ready(function(){function fix_height(){var heightWithoutNavbar=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",heightWithoutNavbar+"px");var navbarHeigh=$("nav.navbar-default").height(),wrapperHeigh=$("#page-wrapper").height();navbarHeigh>wrapperHeigh&&$("#page-wrapper").css("min-height",navbarHeigh+"px"),wrapperHeigh>navbarHeigh&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(navbarHeigh>wrapperHeigh?$("#page-wrapper").css("min-height",navbarHeigh-60+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||fix_height()}),setTimeout(function(){fix_height()})}),$(function(){$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),console.log("start app.js"),function(){console.log("start app.js3"),angular.module("inspinia",["myconstants","ui.router","ui.bootstrap","ngResource","ngGrid","ui.bootstrap"]),console.log("start app.js4")}(),console.log("start app.js2"),function(){"use strict";function AuthenticationService($http,$cookieStore,$rootScope,$timeout,UserService){function Login(username,password,callback){$timeout(function(){var response;UserService.GetByUsername(username).then(function(user){response=null!==user&&user.password===password?{success:!0}:{success:!1,message:"Username or password is incorrect"},callback(response)})},1e3)}function SetCredentials(username,password){var authdata=Base64.encode(username+":"+password);$rootScope.globals={currentUser:{username:username,authdata:authdata}},$http.defaults.headers.common.Authorization="Basic "+authdata,$cookieStore.put("globals",$rootScope.globals)}function ClearCredentials(){$rootScope.globals={},$cookieStore.remove("globals"),$http.defaults.headers.common.Authorization="Basic"}var service={};return service.Login=Login,service.SetCredentials=SetCredentials,service.ClearCredentials=ClearCredentials,service}angular.module("inspinia").factory("AuthenticationService",AuthenticationService),AuthenticationService.$inject=["$http","$cookieStore","$rootScope","$timeout","UserService"];var Base64={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var chr1,chr2,enc1,enc2,enc3,output="",chr3="",enc4="",i=0;do chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this.keyStr.charAt(enc1)+this.keyStr.charAt(enc2)+this.keyStr.charAt(enc3)+this.keyStr.charAt(enc4),chr1=chr2=chr3="",enc1=enc2=enc3=enc4="";while(i<input.length);return output},decode:function(input){var chr1,chr2,enc1,enc2,enc3,output="",chr3="",enc4="",i=0,base64test=/[^A-Za-z0-9\+\/\=]/g;base64test.exec(input)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do enc1=this.keyStr.indexOf(input.charAt(i++)),enc2=this.keyStr.indexOf(input.charAt(i++)),enc3=this.keyStr.indexOf(input.charAt(i++)),enc4=this.keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output+=String.fromCharCode(chr1),64!=enc3&&(output+=String.fromCharCode(chr2)),64!=enc4&&(output+=String.fromCharCode(chr3)),chr1=chr2=chr3="",enc1=enc2=enc3=enc4="";while(i<input.length);return output}}}(),function(){"use strict";function FlashService($rootScope){function initService(){function clearFlashMessage(){var flash=$rootScope.flash;flash&&(flash.keepAfterLocationChange?flash.keepAfterLocationChange=!1:delete $rootScope.flash)}$rootScope.$on("$locationChangeStart",function(){clearFlashMessage()})}function Success(message,keepAfterLocationChange){$rootScope.flash={message:message,type:"success",keepAfterLocationChange:keepAfterLocationChange}}function Error(message,keepAfterLocationChange){$rootScope.flash={message:message,type:"error",keepAfterLocationChange:keepAfterLocationChange}}var service={};return service.Success=Success,service.Error=Error,initService(),service}angular.module("inspinia").factory("FlashService",FlashService),FlashService.$inject=["$rootScope"]}(),function(){"use strict";function UserService($http){function GetAll(){return $http.get("http://localhost:8080/insa/resources/restos/:id").then(handleSuccess,handleError("Error getting all users"))}function GetById(id){return $http.get("/api/users/"+id).then(handleSuccess,handleError("Error getting user by id"))}function GetByUsername(username){return $http.get("/api/users/"+username).then(handleSuccess,handleError("Error getting user by username"))}function Create(user){return $http.post("/api/users",user).then(handleSuccess,handleError("Error creating user"))}function Update(user){return $http.put("/api/users/"+user.id,user).then(handleSuccess,handleError("Error updating user"))}function Delete(id){return $http["delete"]("/api/users/"+id).then(handleSuccess,handleError("Error deleting user"))}function handleSuccess(res){return res.data}function handleError(error){return function(){return{success:!1,message:error}}}var service={};return service.GetAll=GetAll,service.GetById=GetById,service.GetByUsername=GetByUsername,service.Create=Create,service.Update=Update,service.Delete=Delete,service}angular.module("inspinia").factory("UserService",UserService),UserService.$inject=["$http"]}(),angular.module("inspinia").config(config).run(function($rootScope,$state){$rootScope.$state=$state}),angular.module("inspinia").config(["$httpProvider",function($httpProvider){$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"]}]),angular.module("inspinia").directive("pageTitle",pageTitle).directive("sideNavigation",sideNavigation).directive("iboxTools",iboxTools).directive("minimalizaSidebar",minimalizaSidebar).directive("iboxToolsFullScreen",iboxToolsFullScreen),console.log("start controllers"),angular.module("inspinia").controller("RegisterCtrl",RegisterCtrl).controller("MainCtrl",MainCtrl).controller("StefCtrl",StefCtrl).controller("CrudCtrl",CrudCtrl).controller("AlertMessagesCtrl",AlertMessagesCtrl).controller("RestoListCtrl",RestoListCtrl).controller("RestoFormCtrl",RestoFormCtrl).factory("restoService",["$resource","ENV",function($resource,ENV){return $resource(ENV.restUrl+"resources/restos/:id")}]).factory("userService",function($http){var securities={};$http.get("../service/UserService.js").success(function(data,status,headers,config){securities=data}).error(function(data,status,headers,config){});var factory={};return factory.getSecurities=function(){return securities},factory}).factory("authService",["$http",function($http){var factory={};return factory.sendRegistration=function(user){return $http.post("rest/auth/sendRegistration",user).then(function(data,status,headers,config){return result=data,alert("ok"),!0},function(data,status,headers,config){return alert("pb"),!0})},factory}]),console.log("start controllers2"),angular.module("myconstants",[]).constant("ENV",{name:"production",restUrl:""});